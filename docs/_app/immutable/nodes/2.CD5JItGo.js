import{b as v,_ as L}from"../chunks/zLD9i3IN.js";import"../chunks/DsnmJJEf.js";import{i as B}from"../chunks/s7QYGWw1.js";import{o as x}from"../chunks/CRtSpeXi.js";import{p as j,f as E,a as F,b as M,g as l,m as O,c as $,s as A,r as I}from"../chunks/BFfmNrwf.js";import{b as P}from"../chunks/0z_xw7ku.js";var T=E('<div class="flex h-full min-h-screen w-full"><div class="h-full min-h-screen w-full"></div></div>');function k(m,c){j(c,!1);const u=[{id:"alberta",name:"Alberta",path:"/data/alberta_border.geojson",color:"#7C93FE"},{id:"iowa",name:"Iowa",path:"/data/iowa_border.geojson",color:"#FB8B24"},{id:"maine",name:"Maine",path:"/data/maine_border.geojson",color:"#2A9D8F"}];let e=O(null),a=null,t=null;x(async()=>{if(!l(e))return;const s=await L(()=>import("../chunks/7ah4FPQk.js").then(o=>o.l),[],import.meta.url),{map:h,tileLayer:g,layerGroup:y,geoJSON:_,latLngBounds:b}=s;a=h(l(e),{center:[53,-95],zoom:4,minZoom:2,maxZoom:18}),g("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(a),t=y().addTo(a);const i=b();return await Promise.all(u.map(async o=>{try{const r=await fetch(`${P}${o.path}`);if(!r.ok)throw new Error(`Failed to fetch ${o.name}`);const w=await r.json(),d=_(w,{style:()=>({color:o.color,weight:2,fillOpacity:.2,opacity:1})});t?.addLayer(d);const p=d.getBounds();p.isValid()&&i.extend(p)}catch(r){console.error(`Layer load failed: ${o.id}`,r)}})),i.isValid()&&a.fitBounds(i,{padding:[40,40]}),()=>{t?.clearLayers(),t=null,a?.remove(),a=null}}),B();var n=T(),f=$(n);v(f,s=>A(e,s),()=>l(e)),I(n),F(m,n),M()}export{k as component};
